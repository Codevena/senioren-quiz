(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{208:(e,t,s)=>{"use strict";s.d(t,{x:()=>a});var l=s(5155);function a(e){let{prompt:t,questionNumber:s,totalQuestions:a}=e;return(0,l.jsxs)("div",{className:"w-full max-w-6xl mx-auto animate-scale-in",children:[void 0!==s&&void 0!==a&&(0,l.jsx)("div",{className:"glass rounded-full px-6 py-2 mb-4 inline-block",children:(0,l.jsxs)("div",{className:"text-xl font-bold text-white",children:[(0,l.jsxs)("span",{className:"text-quiz-highlight",children:["Frage ",s]}),(0,l.jsx)("span",{className:"text-white/50 mx-2",children:"/"}),(0,l.jsx)("span",{className:"text-white/70",children:a})]})}),(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("div",{className:"absolute -inset-1 bg-gradient-quiz rounded-3xl blur-xl opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),(0,l.jsx)("div",{className:"relative glass-strong rounded-3xl p-8 border-2 border-white/20 shadow-2xl",children:(0,l.jsx)("h1",{className:"text-4xl md:text-5xl font-black text-white text-center leading-tight",children:t})})]})]})}},2379:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var l=s(5155),a=s(2115),r=s(208),n=s(5250),i=s(9870);function o(e){let{teamAName:t,teamBName:s,teamAScore:a,teamBScore:r}=e;return(0,l.jsxs)("div",{className:"flex gap-8 justify-center items-center",children:[(0,l.jsxs)("div",{className:"bg-blue-500/20 border-4 border-blue-500 rounded-2xl px-12 py-6 text-center min-w-[300px]",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-blue-300 mb-2",children:t}),(0,l.jsx)("div",{className:"text-8xl font-black text-white",children:a})]}),(0,l.jsx)("div",{className:"text-6xl font-black text-white/30",children:"VS"}),(0,l.jsxs)("div",{className:"bg-yellow-500/20 border-4 border-yellow-500 rounded-2xl px-12 py-6 text-center min-w-[300px]",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-yellow-300 mb-2",children:s}),(0,l.jsx)("div",{className:"text-8xl font-black text-white",children:r})]})]})}function c(){let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)({currentQuestionIndex:0,selectedIndex:null,correctIndex:null,timerState:"idle",timeRemaining:30,progress:0}),[d,x]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{!async function(){try{let e=await fetch("/api/quiz?limit=200"),s=await e.json();if(s.success){let e=sessionStorage.getItem("quizSeed");e||(e=Date.now().toString(),sessionStorage.setItem("quizSeed",e));let l=[...s.data].sort((t,s)=>{let l=e=>{let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t&=t;return t};return l(e+t.id)-l(e+s.id)});t(l)}}catch(e){console.error("Failed to load questions:",e)}finally{x(!1)}}()},[]),(0,a.useEffect)(()=>{let e=new BroadcastChannel("quiz-sync");return e.onmessage=e=>{c(e.data)},()=>{e.close()}},[]),d)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-quiz-bg",children:(0,l.jsx)("div",{className:"text-6xl font-bold text-quiz-text animate-pulse",children:"L\xe4dt Quiz..."})});if(0===e.length)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-quiz-bg",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-6xl font-bold text-quiz-wrong mb-8",children:"Keine Fragen gefunden"}),(0,l.jsxs)("div",{className:"text-3xl text-quiz-text/70",children:["Bitte f\xfchren Sie ",(0,l.jsx)("code",{className:"bg-quiz-text/10 px-4 py-2 rounded",children:"npm run db:seed"})," aus"]})]})});let u=e[s.currentQuestionIndex];if(!u)return null;let m=null!==s.selectedIndex&&null!==s.correctIndex?s.selectedIndex===s.correctIndex:null;return(0,l.jsxs)("main",{className:"min-h-screen p-8 flex flex-col relative overflow-hidden",children:[(0,l.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,l.jsx)("div",{className:"absolute top-20 left-20 w-96 h-96 bg-quiz-purple/10 rounded-full blur-3xl animate-pulse-slow"}),(0,l.jsx)("div",{className:"absolute bottom-20 right-20 w-[500px] h-[500px] bg-quiz-cyan/10 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"1s"}}),(0,l.jsx)("div",{className:"absolute top-1/2 left-1/2 w-80 h-80 bg-quiz-pink/10 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}})]}),(0,l.jsxs)("div",{className:"relative z-10 flex flex-col h-full",children:[void 0!==s.teamAScore&&void 0!==s.teamBScore&&(0,l.jsx)("div",{className:"mb-8 animate-fade-in",children:(0,l.jsx)(o,{teamAName:s.teamAName||"Team A",teamBName:s.teamBName||"Team B",teamAScore:s.teamAScore,teamBScore:s.teamBScore})}),(0,l.jsx)("div",{className:"mb-12",children:(0,l.jsx)(r.x,{prompt:u.prompt,questionNumber:s.currentQuestionIndex+1,totalQuestions:e.length})}),(0,l.jsx)("div",{className:"mb-12",children:(0,l.jsx)(n.r,{choices:u.choices,selectedIndex:s.selectedIndex,correctIndex:s.correctIndex,disabled:!0})}),null!==s.correctIndex&&(0,l.jsx)(i.h,{fact:u.fact,isCorrect:m}),(0,l.jsx)("div",{className:"mt-auto w-full",children:(0,l.jsxs)("div",{className:"relative w-full h-16 bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 overflow-hidden shadow-2xl",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-pulse"}),(0,l.jsxs)("div",{className:"absolute inset-y-0 left-0 transition-all ease-linear ".concat("completed"===s.timerState?"bg-gradient-to-r from-red-600 via-red-500 to-red-600 animate-pulse":s.progress<.33?"bg-gradient-to-r from-red-500 via-orange-500 to-yellow-500 animate-pulse shadow-glow-red":s.progress<.66?"bg-gradient-to-r from-yellow-500 via-green-400 to-green-500 shadow-glow-yellow":"bg-gradient-to-r from-green-500 via-emerald-400 to-cyan-500 shadow-glow-green"),style:{width:"".concat(100*s.progress,"%"),transitionDuration:"100ms"},children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"}),(0,l.jsx)("div",{className:"absolute inset-0 shadow-inner"})]}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-3 h-3 rounded-full animate-pulse ".concat("completed"===s.timerState||s.progress<.33?"bg-red-400":s.progress<.66?"bg-yellow-400":"bg-green-400")}),(0,l.jsxs)("span",{className:"text-white font-black text-3xl drop-shadow-2xl tracking-wider",children:[Math.ceil(s.timeRemaining),"s"]}),(0,l.jsx)("div",{className:"w-3 h-3 rounded-full animate-pulse ".concat("completed"===s.timerState||s.progress<.33?"bg-red-400":s.progress<.66?"bg-yellow-400":"bg-green-400")})]})}),(0,l.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 blur-sm ".concat("completed"===s.timerState||s.progress<.33?"bg-red-500":s.progress<.66?"bg-yellow-500":"bg-green-500")})]})})]})]})}},4898:(e,t,s)=>{Promise.resolve().then(s.bind(s,2379))},5250:(e,t,s)=>{"use strict";s.d(t,{r:()=>r});var l=s(5155);let a=["A","B","C","D"];function r(e){let{choices:t,selectedIndex:s,correctIndex:r,onSelect:n,disabled:i=!1}=e;return(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-6xl mx-auto",children:t.map((e,t)=>{let o=(e=>{let t=r===e,l=null!==r;return t&&l?{container:"bg-gradient-correct border-quiz-correct shadow-glow-green animate-wiggle",text:"text-white",icon:"✓"}:null===r||s!==e||t?s!==e||l?{container:"glass border-white/20 hover:border-quiz-purple hover:shadow-glow",text:"text-white",icon:""}:{container:"bg-quiz-highlight/20 border-quiz-highlight shadow-glow-yellow",text:"text-white",icon:""}:{container:"bg-gradient-wrong border-quiz-wrong shadow-glow-red",text:"text-white",icon:"✗"}})(t),c=null!==r;return(0,l.jsxs)("button",{onClick:()=>!i&&(null==n?void 0:n(t)),disabled:i,className:"\n              group relative min-h-[100px] p-6 rounded-3xl border-3\n              transition-all duration-500 transform\n              ".concat(i?"cursor-not-allowed":"hover:scale-105 cursor-pointer active:scale-95","\n              ").concat(o.container,"\n            "),children:[!c&&(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-quiz opacity-0 group-hover:opacity-20 rounded-3xl transition-opacity duration-300"}),(0,l.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,l.jsx)("div",{className:"\n                flex-shrink-0 w-12 h-12 rounded-2xl flex items-center justify-center\n                text-2xl font-black\n                ".concat(c&&r===t?"bg-white/20":"bg-white/10","\n              "),children:a[t]}),(0,l.jsx)("span",{className:"flex-1 text-2xl md:text-3xl font-bold text-left ".concat(o.text),children:e}),o.icon&&(0,l.jsx)("div",{className:"flex-shrink-0 text-4xl animate-scale-in",children:o.icon})]})]},t)})})}},9870:(e,t,s)=>{"use strict";s.d(t,{h:()=>a});var l=s(5155);function a(e){let{fact:t,isCorrect:s,autoMode:a=!1}=e;return null===s||a&&!t?null:(0,l.jsx)("div",{className:"w-full max-w-6xl mx-auto mt-8 animate-slide-up",children:(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("div",{className:"\n          absolute -inset-1 rounded-3xl blur-xl opacity-75 transition-opacity duration-300 animate-pulse\n          ".concat(a?"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500":s?"bg-gradient-correct":"bg-gradient-wrong","\n        ")}),(0,l.jsxs)("div",{className:"\n          relative glass-strong rounded-3xl p-10 border-2 shadow-2xl\n          ".concat(a?"border-blue-500 shadow-glow-blue":s?"border-quiz-correct shadow-glow-green":"border-quiz-wrong shadow-glow-red","\n        "),children:[!a&&(0,l.jsxs)("div",{className:"flex items-center gap-6 mb-6",children:[(0,l.jsx)("div",{className:"\n                text-7xl animate-bounce-slow\n                ".concat(s?"animate-wiggle":"","\n              "),children:s?"\uD83C\uDF89":"\uD83D\uDCAD"}),(0,l.jsx)("h2",{className:"\n                text-6xl font-black\n                ".concat(s?"text-quiz-correct":"text-quiz-wrong","\n              "),children:s?"Richtig!":"Leider falsch!"})]}),t&&(0,l.jsx)("div",{className:"glass rounded-2xl p-6 ".concat(a?"":"mt-6"),children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)("div",{className:"text-4xl flex-shrink-0",children:"\uD83D\uDCA1"}),(0,l.jsxs)("div",{className:"text-3xl text-white leading-relaxed",children:[(0,l.jsx)("span",{className:"font-bold text-quiz-highlight",children:"Wussten Sie:"}),(0,l.jsx)("br",{}),t]})]})})]})]})})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=4898)),_N_E=e.O()}]);