(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{208:(e,t,r)=>{"use strict";r.d(t,{x:()=>l});var n=r(5155);function l(e){let{prompt:t,questionNumber:r,totalQuestions:l}=e;return(0,n.jsxs)("div",{className:"w-full max-w-6xl mx-auto animate-scale-in",children:[void 0!==r&&void 0!==l&&(0,n.jsx)("div",{className:"glass rounded-full px-6 py-2 mb-4 inline-block",children:(0,n.jsxs)("div",{className:"text-xl font-bold text-white",children:[(0,n.jsxs)("span",{className:"text-quiz-highlight",children:["Frage ",r]}),(0,n.jsx)("span",{className:"text-white/50 mx-2",children:"/"}),(0,n.jsx)("span",{className:"text-white/70",children:l})]})}),(0,n.jsxs)("div",{className:"relative group",children:[(0,n.jsx)("div",{className:"absolute -inset-1 bg-gradient-quiz rounded-3xl blur-xl opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),(0,n.jsx)("div",{className:"relative glass-strong rounded-3xl p-8 border-2 border-white/20 shadow-2xl",children:(0,n.jsx)("h1",{className:"text-4xl md:text-5xl font-black text-white text-center leading-tight",children:t})})]})]})}},1641:(e,t,r)=>{Promise.resolve().then(r.bind(r,2356))},2356:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(5155),l=r(2115),s=r(208),a=r(5250),i=r(9870),c=r(9879),o=r(5218);function u(){let[e,t]=(0,l.useState)([]),[r,u]=(0,l.useState)(0),[d,x]=(0,l.useState)(null),[m,g]=(0,l.useState)(null),[h,w]=(0,l.useState)(!0),[p,f]=(0,l.useState)(30),[v,b]=(0,l.useState)(!1),{playSuccess:j,playFailure:N}=(0,o.W)(),y=(0,c.L)({duration:p,onComplete:()=>{null!==m||v||(k(),b(!0),setTimeout(()=>{b(!1),q()},7e3))}});(0,l.useEffect)(()=>{!async function(){try{let e=await fetch("/api/quiz?limit=200"),r=await e.json();if(r.success){let e=sessionStorage.getItem("quizSeed");e||(e=Date.now().toString(),sessionStorage.setItem("quizSeed",e));let n=[...r.data].sort((t,r)=>{let n=e=>{let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t};return n(e+t.id)-n(e+r.id)});t(n)}}catch(e){console.error("Failed to load questions:",e)}finally{w(!1)}}()},[]),(0,l.useEffect)(()=>{if(!h&&e.length>0&&"idle"===y.state&&!v&&null===m){let e=setTimeout(()=>{y.start()},800);return()=>clearTimeout(e)}},[h,e.length,y,r,v,m]);let k=(0,l.useCallback)(()=>{let t=e[r];t&&(g(t.answerIndex),y.pause(),d===t.answerIndex?j():null!==d?N():j())},[r,e,d,y,j,N]),q=(0,l.useCallback)(()=>{r<e.length-1&&!v&&(u(e=>e+1),x(null),g(null),b(!1),y.reset())},[r,e.length,y,v]);if(h)return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-quiz-bg",children:(0,n.jsx)("div",{className:"text-6xl font-bold text-quiz-text animate-pulse",children:"L\xe4dt Quiz..."})});if(0===e.length)return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-quiz-bg",children:(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("div",{className:"text-6xl font-bold text-quiz-wrong mb-8",children:"Keine Fragen gefunden"})})});let z=e[r];return z?(0,n.jsxs)("main",{className:"min-h-screen bg-quiz-bg flex flex-col items-center justify-between p-8",children:[(0,n.jsxs)("div",{className:"w-full max-w-7xl flex-1 flex flex-col justify-center space-y-8",children:[(0,n.jsx)(s.x,{prompt:z.prompt,questionNumber:r+1,totalQuestions:e.length}),(0,n.jsx)(a.r,{choices:z.choices,selectedIndex:d,correctIndex:m,onSelect:void 0,disabled:!0}),null!==m&&(0,n.jsx)(i.h,{fact:z.fact,isCorrect:d===m,autoMode:!0}),v&&(0,n.jsx)("div",{className:"w-full max-w-4xl mx-auto mt-8 animate-slide-up",children:(0,n.jsxs)("div",{className:"relative group",children:[(0,n.jsx)("div",{className:"absolute -inset-1 rounded-3xl blur-xl opacity-75 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 animate-pulse"}),(0,n.jsx)("div",{className:"relative glass-strong rounded-3xl p-8 border-2 border-blue-500 shadow-glow-blue",children:(0,n.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,n.jsx)("div",{className:"text-5xl animate-bounce-slow",children:"⏳"}),(0,n.jsxs)("div",{className:"text-4xl font-black text-white",children:["N\xe4chste Frage in ",(0,n.jsx)("span",{className:"text-blue-400 animate-pulse",children:"7s"})]}),(0,n.jsx)("div",{className:"text-5xl animate-bounce-slow",children:"⏳"})]})})]})})]}),(0,n.jsx)("div",{className:"w-full mt-auto",children:(0,n.jsxs)("div",{className:"relative w-full h-16 bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 overflow-hidden shadow-2xl",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-pulse"}),(0,n.jsxs)("div",{className:"absolute inset-y-0 left-0 transition-all ease-linear ".concat("completed"===y.state?"bg-gradient-to-r from-red-600 via-red-500 to-red-600 animate-pulse":y.progress<.33?"bg-gradient-to-r from-red-500 via-orange-500 to-yellow-500 animate-pulse shadow-glow-red":y.progress<.66?"bg-gradient-to-r from-yellow-500 via-green-400 to-green-500 shadow-glow-yellow":"bg-gradient-to-r from-green-500 via-emerald-400 to-cyan-500 shadow-glow-green"),style:{width:"".concat(100*y.progress,"%"),transitionDuration:"100ms"},children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"}),(0,n.jsx)("div",{className:"absolute inset-0 shadow-inner"})]}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-3 h-3 rounded-full animate-pulse ".concat("completed"===y.state||y.progress<.33?"bg-red-400":y.progress<.66?"bg-yellow-400":"bg-green-400")}),(0,n.jsxs)("span",{className:"text-white font-black text-3xl drop-shadow-2xl tracking-wider",children:[Math.ceil(y.timeRemaining),"s"]}),(0,n.jsx)("div",{className:"w-3 h-3 rounded-full animate-pulse ".concat("completed"===y.state||y.progress<.33?"bg-red-400":y.progress<.66?"bg-yellow-400":"bg-green-400")})]})}),(0,n.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 blur-sm ".concat("completed"===y.state||y.progress<.33?"bg-red-500":y.progress<.66?"bg-yellow-500":"bg-green-500")})]})})]}):null}},5218:(e,t,r)=>{"use strict";r.d(t,{W:()=>l});var n=r(2115);function l(){let e=(0,n.useRef)(null),t=(0,n.useRef)(null),r=(0,n.useRef)(null),l=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{e.current||(e.current=new Audio("/sounds/success.wav"),e.current.volume=.8,e.current.load()),t.current||(t.current=new Audio("/sounds/failure.mp3"),t.current.volume=.8,t.current.load()),r.current||(r.current=new Audio("/sounds/intro.wav"),r.current.volume=.6,r.current.load());let n=()=>{if(!l.current){var n,s,a;console.log("\uD83D\uDD0A Enabling audio..."),Promise.all([null==(n=e.current)?void 0:n.play().then(()=>{var t;return null==(t=e.current)?void 0:t.pause()}),null==(s=t.current)?void 0:s.play().then(()=>{var e;return null==(e=t.current)?void 0:e.pause()}),null==(a=r.current)?void 0:a.play().then(()=>{var e;return null==(e=r.current)?void 0:e.pause()})]).then(()=>{console.log("✅ Audio unlocked!"),l.current=!0}).catch(e=>console.log("Audio unlock failed:",e))}};return window.addEventListener("click",n,{once:!0}),window.addEventListener("keydown",n,{once:!0}),window.addEventListener("touchstart",n,{once:!0}),()=>{window.removeEventListener("click",n),window.removeEventListener("keydown",n),window.removeEventListener("touchstart",n)}},[]),{playSuccess:()=>{console.log("\uD83C\uDFB5 Playing success sound..."),e.current&&(e.current.currentTime=0,e.current.play().then(()=>console.log("✅ Success sound played")).catch(e=>console.error("❌ Success sound failed:",e)))},playFailure:()=>{console.log("\uD83C\uDFB5 Playing failure sound..."),t.current&&(t.current.currentTime=0,t.current.play().then(()=>console.log("✅ Failure sound played")).catch(e=>console.error("❌ Failure sound failed:",e)))},playIntro:()=>{console.log("\uD83C\uDFB5 Playing intro sound..."),r.current&&(r.current.currentTime=0,r.current.play().then(()=>console.log("✅ Intro sound played")).catch(e=>console.error("❌ Intro sound failed:",e)))}}}},5250:(e,t,r)=>{"use strict";r.d(t,{r:()=>s});var n=r(5155);let l=["A","B","C","D"];function s(e){let{choices:t,selectedIndex:r,correctIndex:s,onSelect:a,disabled:i=!1}=e;return(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-6xl mx-auto",children:t.map((e,t)=>{let c=(e=>{let t=s===e,n=null!==s;return t&&n?{container:"bg-gradient-correct border-quiz-correct shadow-glow-green animate-wiggle",text:"text-white",icon:"✓"}:null===s||r!==e||t?r!==e||n?{container:"glass border-white/20 hover:border-quiz-purple hover:shadow-glow",text:"text-white",icon:""}:{container:"bg-quiz-highlight/20 border-quiz-highlight shadow-glow-yellow",text:"text-white",icon:""}:{container:"bg-gradient-wrong border-quiz-wrong shadow-glow-red",text:"text-white",icon:"✗"}})(t),o=null!==s;return(0,n.jsxs)("button",{onClick:()=>!i&&(null==a?void 0:a(t)),disabled:i,className:"\n              group relative min-h-[100px] p-6 rounded-3xl border-3\n              transition-all duration-500 transform\n              ".concat(i?"cursor-not-allowed":"hover:scale-105 cursor-pointer active:scale-95","\n              ").concat(c.container,"\n            "),children:[!o&&(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-quiz opacity-0 group-hover:opacity-20 rounded-3xl transition-opacity duration-300"}),(0,n.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,n.jsx)("div",{className:"\n                flex-shrink-0 w-12 h-12 rounded-2xl flex items-center justify-center\n                text-2xl font-black\n                ".concat(o&&s===t?"bg-white/20":"bg-white/10","\n              "),children:l[t]}),(0,n.jsx)("span",{className:"flex-1 text-2xl md:text-3xl font-bold text-left ".concat(c.text),children:e}),c.icon&&(0,n.jsx)("div",{className:"flex-shrink-0 text-4xl animate-scale-in",children:c.icon})]})]},t)})})}},9870:(e,t,r)=>{"use strict";r.d(t,{h:()=>l});var n=r(5155);function l(e){let{fact:t,isCorrect:r,autoMode:l=!1}=e;return null===r||l&&!t?null:(0,n.jsx)("div",{className:"w-full max-w-6xl mx-auto mt-8 animate-slide-up",children:(0,n.jsxs)("div",{className:"relative group",children:[(0,n.jsx)("div",{className:"\n          absolute -inset-1 rounded-3xl blur-xl opacity-75 transition-opacity duration-300 animate-pulse\n          ".concat(l?"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500":r?"bg-gradient-correct":"bg-gradient-wrong","\n        ")}),(0,n.jsxs)("div",{className:"\n          relative glass-strong rounded-3xl p-10 border-2 shadow-2xl\n          ".concat(l?"border-blue-500 shadow-glow-blue":r?"border-quiz-correct shadow-glow-green":"border-quiz-wrong shadow-glow-red","\n        "),children:[!l&&(0,n.jsxs)("div",{className:"flex items-center gap-6 mb-6",children:[(0,n.jsx)("div",{className:"\n                text-7xl animate-bounce-slow\n                ".concat(r?"animate-wiggle":"","\n              "),children:r?"\uD83C\uDF89":"\uD83D\uDCAD"}),(0,n.jsx)("h2",{className:"\n                text-6xl font-black\n                ".concat(r?"text-quiz-correct":"text-quiz-wrong","\n              "),children:r?"Richtig!":"Leider falsch!"})]}),t&&(0,n.jsx)("div",{className:"glass rounded-2xl p-6 ".concat(l?"":"mt-6"),children:(0,n.jsxs)("div",{className:"flex items-start gap-4",children:[(0,n.jsx)("div",{className:"text-4xl flex-shrink-0",children:"\uD83D\uDCA1"}),(0,n.jsxs)("div",{className:"text-3xl text-white leading-relaxed",children:[(0,n.jsx)("span",{className:"font-bold text-quiz-highlight",children:"Wussten Sie:"}),(0,n.jsx)("br",{}),t]})]})})]})]})})}},9879:(e,t,r)=>{"use strict";r.d(t,{L:()=>l});var n=r(2115);function l(e){let{duration:t,onComplete:r,onTick:l}=e,[s,a]=(0,n.useState)(t),[i,c]=(0,n.useState)("idle"),o=(0,n.useRef)(null),u=(0,n.useRef)(t),d=(0,n.useRef)(null),x=(0,n.useRef)(!1),m=s/t,g=(0,n.useCallback)(()=>{if(!o.current)return;let e=(performance.now()-o.current)/1e3,t=Math.max(0,u.current-e);a(t),null==l||l(t),t<=0?(c("completed"),x.current||(x.current=!0,null==r||r()),d.current&&(cancelAnimationFrame(d.current),d.current=null)):d.current=requestAnimationFrame(g)},[r,l]),h=(0,n.useCallback)(()=>{"running"!==i&&(x.current=!1,o.current=performance.now(),u.current=t,c("running"),a(t),d.current&&cancelAnimationFrame(d.current),d.current=requestAnimationFrame(g))},[t,i,g]),w=(0,n.useCallback)(()=>{"running"===i&&(c("paused"),u.current=s,d.current&&(cancelAnimationFrame(d.current),d.current=null))},[i,s]),p=(0,n.useCallback)(()=>{"paused"===i&&(c("running"),o.current=performance.now(),d.current&&cancelAnimationFrame(d.current),d.current=requestAnimationFrame(g))},[i,g]),f=(0,n.useCallback)(()=>{x.current=!1,c("idle"),a(t),u.current=t,o.current=null,d.current&&(cancelAnimationFrame(d.current),d.current=null)},[t]),v=(0,n.useCallback)(()=>{c("idle"),a(t),u.current=t,o.current=null,x.current=!1,d.current&&(cancelAnimationFrame(d.current),d.current=null)},[t]);return(0,n.useEffect)(()=>()=>{d.current&&cancelAnimationFrame(d.current)},[]),{timeRemaining:s,state:i,progress:m,start:h,pause:w,resume:p,reset:f,stop:v}}}},e=>{e.O(0,[441,255,358],()=>e(e.s=1641)),_N_E=e.O()}]);